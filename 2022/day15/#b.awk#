BEGIN{
    scan_range = 4000000
}
{
    sx = substr($3, 3, length($3)-3)
    sy = substr($4, 3, length($4)-3)
    bx = substr($9, 3, length($9)-3)
    by = substr($10, 3, length($10)-2)
    dist = distance(sx, sy, bx, by)
    Sx[NR] = sx
    Sy[NR] = sy
    Dist[NR] = dist
    #points =";"(sx+dist)","sy";"sx","(sy+dist)";"(sx-dist)","sy";"sx","(sy-dist)
    #points ="sx","(sy+dist)";"sx","(sy-dist)
    #lines:  y(x) = sy+dist - sx + y*x, y(x) = sy+dist + sx - yx, y(x) = sy-dist - sx + y*x, y(x) = sy-dist + sx - yx
    # y intercepts
    Y[1][NR] = sy-sx+dist#top left
    Y[2][NR] = sy+sx+dist#top right
    Y[3][NR] = sy-sx-dist# bottom right
    Y[4][NR] = sy+sx-dist#bottm left
}
END{
    for(i=1; i<=NR; i++){#first rising
        y1 = Y[1][i]
        for(j=1; j<=NR; j++){
            y3 = Y[3][j]
            if(y3 == (y1+2)){#found rising pair")
                for(k=1; k<=NR; k++){
                    y2 = Y[2][k]
                    for(m=1; m<=NR; m++){
                        y4 = Y[4][m]
                        if(y2 == (y4 - 2)){#found a falling pair
                            potentials += 1
                            low = int((y1+y3)/2)
                            high = int((y2+y4)/2)
                            x = int((high - low)/2)
                            y = int((low + high)/2)
                            if((x >= 0)&&(x <= scan_range)){
                                if((y >= 0)&&(y <= scan_range)){
                                    print(4000000*x + y)
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
function abs(x) {
    if(x < 0){ return(-x)}
    return(x)
}
function distance(a, b, c, d){
    return(abs(a - c) + abs(b - d))
}
